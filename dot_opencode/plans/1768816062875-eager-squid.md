# Plan: Exclude Slash Command Output from MUST-have-plugin Replacements

## Problem
The MUST-have-plugin currently applies text replacements to all `TextPart` content in the `output.parts` array, including:
- User-typed prompts (intended)
- File content attached via @ mentions (already excluded - different type)
- Slash command output (should be excluded)
- System-generated text (should be excluded)

## Solution
Check the `synthetic` property on `TextPart` objects before applying replacements:
- `synthetic: undefined` or `synthetic: false` → User-typed text → **Apply replacements**
- `synthetic: true` → System-generated/slash command output → **Skip replacements**

## File to Modify
- `/Users/katherinemasseau/.config/opencode/plugin/MUST-have-plugin/index.ts`

## Change
In the `chat.message` hook handler (around line 271), add a check for `synthetic !== true`:

```ts
// Before:
if (part.type === "text" && "text" in part && typeof part.text === "string") {

// After:
if (part.type === "text" && "text" in part && typeof part.text === "string" && !part.synthetic) {
```

## Verification
1. Rebuild plugin: `npx tsc` in plugin directory
2. Restart OpenCode
3. Test user input: Type "you must fix this" → should become "you **MUST** fix this"
4. Test slash command: Run a slash command that contains keywords → should remain unchanged
